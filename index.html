<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ST3 Interactive Form</title>

<!-- TailwindCSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Lottie Player -->
<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

<style>
  body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(-45deg, #ff69b4, #ffb6c1, #ff69b4, #ffb6c1);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
  }
  @keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  .form-container {
    max-width: 650px;
    margin: 40px auto;
    padding: 30px;
    border-radius: 20px;
    background-color: rgba(255,255,255,0.95);
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  }
  .section { display: none; }
  .section.active { display: block; }
</style>
</head>
<body>

<div class="form-container">
  <h2 class="text-3xl font-bold mb-6 text-center text-pink-600">ST3 - Womenâ€™s Health Feedback</h2>
  
  <form id="st3Form">

    <!-- Section 1 -->
    <div class="section active" data-section="1">
      <div class="flex justify-center mb-4">
        <lottie-player src="https://assets1.lottiefiles.com/packages/lf20_Stt1R5.json" background="transparent" speed="1" style="width: 120px; height: 120px;" loop autoplay></lottie-player>
      </div>
      <input type="text" name="name" placeholder="Name" class="w-full p-3 rounded mb-4 border" required>
      <input type="email" name="email" placeholder="Email" class="w-full p-3 rounded mb-4 border" required>
      <div class="flex justify-between">
        <span></span>
        <button type="button" class="nextBtn bg-pink-500 text-white px-6 py-3 rounded hover:bg-pink-600 transition">Next</button>
      </div>
    </div>

    <!-- Section 2 -->
    <div class="section" data-section="2">
      <div class="flex justify-center mb-4">
        <lottie-player src="https://assets2.lottiefiles.com/packages/lf20_Jyk4qA.json" background="transparent" speed="1" style="width: 120px; height: 120px;" loop autoplay></lottie-player>
      </div>
      <label class="font-semibold">Age Group:</label>
      <select name="ageGroup" class="w-full p-3 rounded mb-4 border" required>
        <option value="">Select</option>
        <option value="18-25">18-25</option>
        <option value="26-35">26-35</option>
        <option value="36-45">36-45</option>
        <option value="45+">45+</option>
      </select>

      <label class="font-semibold">Occupation:</label>
      <select name="occupation" class="w-full p-3 rounded mb-4 border" required>
        <option value="">Select</option>
        <option value="Student">Student</option>
        <option value="Working Professional">Working Professional</option>
        <option value="Homemaker">Homemaker</option>
        <option value="Other">Other</option>
      </select>
      <div class="flex justify-between">
        <button type="button" class="prevBtn bg-gray-400 text-white px-6 py-3 rounded hover:bg-gray-500 transition">Previous</button>
        <button type="button" class="nextBtn bg-pink-500 text-white px-6 py-3 rounded hover:bg-pink-600 transition">Next</button>
      </div>
    </div>

    <!-- Section 3 -->
    <div class="section" data-section="3">
      <div class="flex justify-center mb-4">
        <lottie-player src="https://assets9.lottiefiles.com/packages/lf20_xlkxtmul.json" background="transparent" speed="1" style="width: 120px; height: 120px;" loop autoplay></lottie-player>
      </div>
      <label class="font-semibold">Awareness:</label>
      <select name="awareness" class="w-full p-3 rounded mb-4 border" required>
        <option value="">Select</option>
        <option value="Very aware">Very aware</option>
        <option value="Heard but unsure">Heard but unsure</option>
        <option value="Not aware">Not aware</option>
      </select>

      <label class="font-semibold">Biggest Challenge:</label><br>
      <div class="mb-4">
        <label><input type="checkbox" name="biggestChallenge" value="Symptoms" class="mr-2"> Symptoms</label><br>
        <label><input type="checkbox" name="biggestChallenge" value="Awareness" class="mr-2"> Lack of Awareness</label><br>
        <label><input type="checkbox" name="biggestChallenge" value="Lifestyle" class="mr-2"> Lifestyle & Diet</label><br>
        <label><input type="checkbox" name="biggestChallenge" value="Medical Costs" class="mr-2"> Medical Costs</label><br>
        <label><input type="checkbox" name="biggestChallenge" value="Emotional Support" class="mr-2"> Emotional Support</label>
      </div>

      <div class="flex justify-between">
        <button type="button" class="prevBtn bg-gray-400 text-white px-6 py-3 rounded hover:bg-gray-500 transition">Previous</button>
        <button type="button" class="nextBtn bg-pink-500 text-white px-6 py-3 rounded hover:bg-pink-600 transition">Next</button>
      </div>
    </div>

    <!-- Section 4 -->
    <div class="section" data-section="4">
      <div class="flex justify-center mb-4">
        <lottie-player src="https://assets3.lottiefiles.com/packages/lf20_tutvdkg0.json" background="transparent" speed="1" style="width: 120px; height: 120px;" loop autoplay></lottie-player>
      </div>
      <label class="font-semibold">Doctor Consultation:</label>
      <select name="doctorConsultation" class="w-full p-3 rounded mb-4 border" required>
        <option value="">Select</option>
        <option value="Regularly">Regularly</option>
        <option value="Occasionally">Occasionally</option>
        <option value="Rarely">Rarely</option>
        <option value="Only when urgent">Only when urgent</option>
      </select>

      <label class="font-semibold">Would you use an app?</label>
      <select name="useApp" class="w-full p-3 rounded mb-4 border" required>
        <option value="">Select</option>
        <option value="Yes">Yes</option>
        <option value="Maybe">Maybe</option>
        <option value="No">No</option>
      </select>

      <div class="flex justify-between">
        <button type="button" class="prevBtn bg-gray-400 text-white px-6 py-3 rounded hover:bg-gray-500 transition">Previous</button>
        <button type="button" class="nextBtn bg-pink-500 text-white px-6 py-3 rounded hover:bg-pink-600 transition">Next</button>
      </div>
    </div>

    <!-- Section 5 -->
    <div class="section" data-section="5">
      <div class="flex justify-center mb-4">
        <lottie-player src="https://assets7.lottiefiles.com/packages/lf20_zrqthn6o.json" background="transparent" speed="1" style="width: 120px; height: 120px;" loop autoplay></lottie-player>
      </div>
      <label class="font-semibold">Most Useful Features:</label><br>
      <div class="mb-4">
        <label><input type="checkbox" name="usefulFeatures" value="Symptom & Period Tracking" class="mr-2"> Symptom & Period Tracking</label><br>
        <label><input type="checkbox" name="usefulFeatures" value="Access to Doctors Online" class="mr-2"> Access to Doctors Online</label><br>
        <label><input type="checkbox" name="usefulFeatures" value="Diet & Lifestyle Tips" class="mr-2"> Diet & Lifestyle Tips</label><br>
        <label><input type="checkbox" name="usefulFeatures" value="Mental Health/Community Support" class="mr-2"> Mental Health/Community Support</label><br>
        <label><input type="checkbox" name="usefulFeatures" value="Affordable Lab Test Connections" class="mr-2"> Affordable Lab Test Connections</label>
      </div>

      <label class="font-semibold">Would you pay for premium services?</label>
      <select name="premiumPayment" class="w-full p-3 rounded mb-4 border" required>
        <option value="">Select</option>
        <option value="Yes">Yes</option>
        <option value="Maybe">Maybe</option>
        <option value="No">No</option>
      </select><br><br>

      <label class="font-semibold">Would you like to join as a Beta Tester?</label>
      <select name="betaTester" class="w-full p-3 rounded mb-4 border" required>
        <option value="">Select</option>
        <option value="Yes">Yes</option>
        <option value="No">No</option>
      </select><br><br>

      <div class="flex justify-between">
        <button type="button" class="prevBtn bg-gray-400 text-white px-6 py-3 rounded hover:bg-gray-500 transition">Previous</button>
        <button type="submit" class="bg-pink-500 text-white px-6 py-3 rounded hover:bg-pink-600 transition">Submit</button>
      </div>
    </div>

  </form>
</div>

<script>
  const sections = document.querySelectorAll('.section');
  let currentSection = 0;

  document.querySelectorAll('.nextBtn').forEach(btn => {
    btn.addEventListener('click', () => {
      const inputs = sections[currentSection].querySelectorAll('input, select');
      for (let input of inputs) {
        if (!input.checkValidity()) {
          input.reportValidity();
          return;
        }
      }
      sections[currentSection].classList.remove('active');
      currentSection++;
      sections[currentSection].classList.add('active');
      window.scrollTo({top:0, behavior:'smooth'});
    });
  });

  document.querySelectorAll('.prevBtn').forEach(btn => {
    btn.addEventListener('click', () => {
      sections[currentSection].classList.remove('active');
      currentSection--;
      sections[currentSection].classList.add('active');
      window.scrollTo({top:0, behavior:'smooth'});
    });
  });

  const form = document.getElementById('st3Form');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const formData = new FormData(form);
    const data = {};
    formData.forEach((value, key) => {
      if (data[key]) data[key] += ', ' + value;
      else data[key] = value;
    });

    try {
      const response = await fetch('https://script.google.com/macros/s/AKfycbwt2FVCh5K-fEaOPHkSrgvIOKsxThpG92Sg4Mbe80zPZbMgSR9-MUCitF-IZRoxWg7UdQ/exec', { // Replace with your Apps Script URL
        method: 'POST',
        body: JSON.stringify(data),
        headers: {'Content-Type': 'application/json'}
      });
      const result = await response.json();

      let betaMsg = data.betaTester === "Yes" ? 
        "Thank you, you are now a Beta Tester." : 
        "Thank you for your valuable information.";

      if(result.status === "success"){
        alert(betaMsg);
        form.reset();
        sections[currentSection].classList.remove('active');
        currentSection = 0;
        sections[currentSection].classList.add('active');
      } else {
        alert('Error submitting the form. Please try again.');
      }
    } catch(err) {
      alert('Submission failed. Check your internet connection.');
      console.error(err);
    }
  });
</script>

</body>
</html>

